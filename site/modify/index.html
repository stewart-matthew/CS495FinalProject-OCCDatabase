<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Modify - OCC Database Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">OCC Database Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../installation/" class="nav-link">Installation</a>
                            </li>
                            <li class="nav-item">
                                <a href="../features/" class="nav-link">Features</a>
                            </li>
                            <li class="nav-item">
                                <a href="./" class="nav-link active" aria-current="page">Modify</a>
                            </li>
                            <li class="nav-item">
                                <a href="../video/" class="nav-link">Video</a>
                            </li>
                            <li class="nav-item">
                                <a href="../faq/" class="nav-link">FAQ</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../features/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../video/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#how-to-modify-and-extend-the-software" class="nav-link">How to Modify and Extend the Software</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#1-making-changes-after-installation" class="nav-link">1. Making Changes After Installation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#2-compiler-languages-build-management-dependencies-and-automated-builds" class="nav-link">2. Compiler, Languages, Build Management, Dependencies, and Automated Builds</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#3-backlog-bugs-and-major-maintenance-issues" class="nav-link">3. Backlog, Bugs, and Major Maintenance Issues</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#4-style-expectations" class="nav-link">4. Style Expectations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#5-automated-testing" class="nav-link">5. Automated Testing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="how-to-modify-and-extend-the-software">How to Modify and Extend the Software</h1>
<p>This document explains how developers can update, extend, and maintain the OCC Database application after installation.</p>
<hr />
<h2 id="1-making-changes-after-installation">1. Making Changes After Installation</h2>
<p>Once the application is installed and running locally, developers can update the system by modifying the source code and, if necessary, adjusting Supabase database resources.</p>
<h3 id="1-clone-and-open-the-project">1. Clone and Open the Project</h3>
<ul>
<li>Clone the repository onto your machine  </li>
<li>Open it in a code editor (such as VS Code)  </li>
<li>All application logic and UI code live inside the project directory  </li>
</ul>
<h3 id="2-modify-the-user-interface-behavior">2. Modify the User Interface / Behavior</h3>
<ul>
<li>Update existing React pages by editing files in:</li>
</ul>
<pre><code>src/pages
</code></pre>
<ul>
<li>Update shared UI components in:</li>
</ul>
<pre><code>src/components
</code></pre>
<ul>
<li>To create new pages or features, add a new file inside <code>src/pages</code> and follow the same structure and routing patterns as existing pages.</li>
</ul>
<h3 id="3-modify-data-and-business-logic">3. Modify Data and Business Logic</h3>
<ul>
<li>To change tables, relationships, or stored data, use the Supabase SQL Editor.  </li>
<li>Any database changes should also be reflected in React code that reads from or writes to Supabase through:</li>
</ul>
<pre><code>src/supabaseClient.js
</code></pre>
<h3 id="4-update-security-and-access-rules">4. Update Security and Access Rules</h3>
<ul>
<li>If new tables or roles are added, update Supabase <strong>Row-Level Security (RLS)</strong> policies.  </li>
<li>RLS must be consistent with the existing role and area team structure to avoid permissions issues.</li>
</ul>
<h3 id="5-test-and-redeploy">5. Test and Redeploy</h3>
<ul>
<li>After updates, run the application locally to verify functionality.  </li>
<li>When ready, rebuild and redeploy using the same Docker process described in the installation documentation.</li>
</ul>
<hr />
<h2 id="2-compiler-languages-build-management-dependencies-and-automated-builds">2. Compiler, Languages, Build Management, Dependencies, and Automated Builds</h2>
<p>The OCC application is built using modern web technologies and does not require a traditional compiler.</p>
<h3 id="languages-used">Languages Used</h3>
<ul>
<li><strong>JavaScript/JSX</strong> — frontend logic and UI  </li>
<li><strong>SQL</strong> — Supabase database schema and RLS policies  </li>
</ul>
<h3 id="framework-compiler">Framework / Compiler</h3>
<p>The project uses <strong>Create React App</strong>, powered internally by:</p>
<ul>
<li><strong>Babel</strong> — compiles JSX  </li>
<li><strong>Webpack</strong> — bundles the application  </li>
</ul>
<p>This process happens automatically when you run:</p>
<pre><code>npm run build
</code></pre>
<h3 id="build-management-npm">Build Management (npm)</h3>
<p>Build and development tasks use <strong>npm</strong>.</p>
<p>Common commands:</p>
<pre><code>npm install      # Install all project dependencies
npm run build    # Create an optimized production build
npm start        # Run the production build locally
</code></pre>
<h3 id="dependencies">Dependencies</h3>
<p>All dependencies are defined in:</p>
<pre><code>package.json
</code></pre>
<p>This file lists:</p>
<ul>
<li>Libraries (React, Supabase, TailwindCSS, etc.)  </li>
<li>Version numbers  </li>
<li>Build scripts  </li>
</ul>
<h3 id="automated-builds-docker">Automated Builds (Docker)</h3>
<p>Docker is used to produce repeatable and consistent builds.</p>
<p>A new Docker image is created using the included <code>Dockerfile</code>:</p>
<pre><code>docker build .
</code></pre>
<p>Or build and run together:</p>
<pre><code>docker compose up --build
</code></pre>
<p>No CI/CD pipeline is used — Docker itself handles build automation.</p>
<hr />
<h2 id="3-backlog-bugs-and-major-maintenance-issues">3. Backlog, Bugs, and Major Maintenance Issues</h2>
<h3 id="backlog-and-bug-tracking">Backlog and Bug Tracking</h3>
<p>All tasks, backlog items, and bug reports are tracked in the project’s <strong>Backlog Excel document</strong>.</p>
<h3 id="major-issues-technical-call-outs">Major Issues / Technical Call-Outs</h3>
<h4 id="1-database-rls-retrofitting">1. Database &amp; RLS Retrofitting</h4>
<p>Whenever new tables, foreign keys, or roles are added:</p>
<ul>
<li>New RLS policies must be created.  </li>
<li>Permissions must match existing role structures.  </li>
<li>This is the most common source of required retrofitting.</li>
</ul>
<p>Examples requiring RLS updates:</p>
<ul>
<li>New role types  </li>
<li>New tables (events, volunteer hours, etc.)  </li>
<li>New foreign key relationships  </li>
</ul>
<h4 id="2-migrating-data-to-new-schema-versions">2. Migrating Data to New Schema Versions</h4>
<p>Changes to tables such as:</p>
<pre><code>team_members
churches
positions
member_positions
</code></pre>
<p>may require:</p>
<ul>
<li>Manual data migration  </li>
<li>Updating foreign-key relations  </li>
<li>Updating dashboards and UI components  </li>
</ul>
<p>Improper schema changes can introduce breaking issues.</p>
<h4 id="3-supabase-feature-updates">3. Supabase Feature Updates</h4>
<p>Supabase updates may affect:</p>
<ul>
<li>Authentication  </li>
<li>SQL/PostgreSQL capability  </li>
<li>Storage policies  </li>
<li>Supabase JS client API  </li>
</ul>
<p>Major upgrades may require updating code and policies.</p>
<h4 id="4-docker-environment-updates">4. Docker Environment Updates</h4>
<p>Updating Docker-based environments may require:</p>
<ul>
<li>Updating the Node.js version  </li>
<li>Updating base images  </li>
<li>Adding new services (Redis, workers, etc.)  </li>
</ul>
<p>Developers may need to modify the <code>Dockerfile</code> or <code>docker-compose.yml</code>.</p>
<h4 id="5-long-term-scalability-concerns">5. Long-Term Scalability Concerns</h4>
<p>If the system grows significantly:</p>
<ul>
<li>Add indexes for large tables  </li>
<li>Optimize heavy or repeated queries  </li>
<li>Upgrade Supabase tiers to handle increased load  </li>
</ul>
<p>This is a future concern but important for maintainers.</p>
<hr />
<h2 id="4-style-expectations">4. Style Expectations</h2>
<p>The OCC application follows consistent coding and UI practices:</p>
<ul>
<li>Functional React components  </li>
<li><code>camelCase</code> for variables and functions  </li>
<li><code>PascalCase</code> for component names  </li>
<li>TailwindCSS for styling  </li>
</ul>
<p>Reusable UI lives in:</p>
<pre><code>src/components
</code></pre>
<p>Full pages live in:</p>
<pre><code>src/pages
</code></pre>
<p>All Supabase logic goes through:</p>
<pre><code>supabaseClient.js
</code></pre>
<p>Code should remain readable, modular, and match existing patterns.</p>
<hr />
<h2 id="5-automated-testing">5. Automated Testing</h2>
<p>The project uses Create React App’s default testing setup (<strong>Jest + React Testing Library</strong>).</p>
<h3 id="location-of-test-files">Location of Test Files</h3>
<p>Main test file:</p>
<pre><code>src/App.test.js
</code></pre>
<p>Testing configuration:</p>
<pre><code>src/setupTests.js
</code></pre>
<p>Additional tests follow the pattern:</p>
<pre><code>ComponentName.test.js
</code></pre>
<h3 id="running-tests">Running Tests</h3>
<p>Run in watch mode:</p>
<pre><code>npm test
</code></pre>
<p>Run a single test pass (CI mode):</p>
<pre><code>CI=true npm test
</code></pre>
<p>Currently, the project includes only the default tests. More can be added as needed.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
